<form class="form">
  <lib-transaction-fields-wrapper>
    <lib-exchange-item-wrapper [detectFocus]="true">
      <lib-deal-value-field
        [isCustomElement]="true"
        [amount]="firstItem.amount"
        [currency]="firstItem.coin"
        (changeCallback)="updateAmounts($event, true)"
      >
        <app-choose-token-modal
          (userChoiceHandler)="changeCoinOnInput($event, true)"
          [label]="firstItem.coin"
          [avoid]="secondItem.coin"
        />
      </lib-deal-value-field>
    </lib-exchange-item-wrapper>
    <lib-coin-swap-button (click)="swapCurrencies()" />
    <lib-exchange-item-wrapper [detectFocus]="true">
      <lib-deal-value-field
        [isCustomElement]="true"
        inputName="buy"
        [amount]="secondItem.amount"
        [currency]="secondItem.coin"
        (changeCallback)="updateAmounts($event, false)"
        ><app-choose-token-modal
          [label]="secondItem.coin"
          (userChoiceHandler)="changeCoinOnInput($event, false)"
          [avoid]="firstItem.coin"
        ></app-choose-token-modal
      ></lib-deal-value-field>
    </lib-exchange-item-wrapper>
  </lib-transaction-fields-wrapper>

  <lib-button
    [disabled]="!isFormValid"
    (click)="confirmTransaction()"
    label="Sell {{ firstItem.coin }}"
  />
</form>
<lib-price-info-item [usdPrice]="firstItem.usdPrice"
  >1 {{ firstItem.coin }} = {{firstItem.btcPrice.toFixed(3)}}
  BTC</lib-price-info-item
>
